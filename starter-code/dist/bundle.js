(()=>{var e={603:e=>{e.exports='<svg fill="#f2b137" id="icon-o-win" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><path d="M32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0Zm0 18.963c-7.2 0-13.037 5.837-13.037 13.037 0 7.2 5.837 13.037 13.037 13.037 7.2 0 13.037-5.837 13.037-13.037 0-7.2-5.837-13.037-13.037-13.037Z"></path></svg>'},601:e=>{e.exports='<svg fill="#31c3bd" id="icon-x-win" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><path d="M15.002 1.147 32 18.145 48.998 1.147a3 3 0 0 1 4.243 0l9.612 9.612a3 3 0 0 1 0 4.243L45.855 32l16.998 16.998a3 3 0 0 1 0 4.243l-9.612 9.612a3 3 0 0 1-4.243 0L32 45.855 15.002 62.853a3 3 0 0 1-4.243 0L1.147 53.24a3 3 0 0 1 0-4.243L18.145 32 1.147 15.002a3 3 0 0 1 0-4.243l9.612-9.612a3 3 0 0 1 4.243 0Z" fill-rule="evenodd"></path></svg>'}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";class e{static addChoosePlayerHandler(e){this.parentElement.addEventListener("click",(function(t){var n;const s=document.querySelector(".game-start__x-mark"),a=document.querySelector(".game-start__o-mark"),r=t.target;if(!r.closest(".PLAYER"))return;const o=null===(n=r.closest(".PLAYER"))||void 0===n?void 0:n.id;"X"==o?(null==s||s.classList.add("selected"),null==a||a.classList.remove("selected")):(null==s||s.classList.remove("selected"),null==a||a.classList.add("selected")),e(o)}))}}e.parentElement=document.querySelector(".player-choose");const t=e;const s=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];var a,r,o,c,i,l;!function(e){e.DEFAULT_PLAYER="X",e.PLAYER_X="X",e.PLAYER_O="O"}(a||(a={})),function(e){e.DEFAULT="",e.PLAYER_VS_CPU="CPU",e.PLAYER_VS_PLAYER="PVP"}(r||(r={})),function(e){e.DEFAULT_TURN="X",e.X_TURN="X",e.O_TURN="O"}(o||(o={})),function(e){e[e.X_POINTS=0]="X_POINTS",e[e.O_POINTS=0]="O_POINTS",e[e.TIES=0]="TIES"}(c||(c={})),function(e){e.HOVER_DEFAULT="selected-board-mark-X",e.HOVER_X="board-X",e.HOVER_O="board-O",e.SELECTED_X="selected-by-X",e.SELECTED_O="selected-by-O"}(i||(i={})),function(e){e.WINNER_X="X",e.WINNER_O="O",e.DEFAULT_WINNER=""}(l||(l={}));const d={currentPlayer:a.DEFAULT_PLAYER,winner:l.DEFAULT_WINNER,X_WIN:!1,O_WIN:!1,game:{gameType:r.DEFAULT,playerTurn:o.DEFAULT_TURN,playersPoints:{X_points:[],O_points:[]},playersWinTurn:{X_turn:0,ties:0,O_turn:0}}},_=function(e){return s.some((t=>function(e,t){const n={},s={};for(const t of e)n[t]=(n[t]||0)+1;for(const e of t)s[e]=(s[e]||0)+1;for(const e in n){if(!(e in s))return!1;if(n[e]!==s[e])return!1}return!0}(t,e)))},E=function(e){e===l.WINNER_X?d.X_WIN=!0:d.O_WIN=!0,console.log(d)};class u{static render(e){this.data=e,this.addSelectClass(),this.changeHover()}static addBoxHandler(e){this.parentElement.addEventListener("click",(function(t){const n=t.target,s=+n.id;"SELECTED"!==n.dataset.select&&(e(s),n.dataset.select="SELECTED")}))}static addSelectClass(){const e=this.data.currentPlayer===a.PLAYER_O?i.SELECTED_O:i.SELECTED_X,t=this.data.currentPlayer===a.PLAYER_O?i.SELECTED_X:i.SELECTED_O;this.parentElement.addEventListener("click",(function(n){const s=n.target;s&&(s.classList.add(`${e}`),s.classList.remove(t))}))}static changeHover(){const e=this.data.currentPlayer===a.PLAYER_O?i.HOVER_O:i.HOVER_X,t=this.data.currentPlayer===a.PLAYER_O?i.HOVER_X:i.HOVER_O;this.gameBox.forEach((n=>{n.addEventListener("mouseenter",(n=>{const s=n.target;"SELECTED"!==s.dataset.select&&(s.classList.add(e),s.classList.remove(t))})),n.addEventListener("mouseout",(n=>{const s=n.target;s.classList.remove(e),s.classList.remove(t)}))}))}}u.parentElement=document.querySelector(".game-board"),u.gameBox=document.querySelectorAll(".board-box");const L=u;var m=n(601),p=n.n(m),P=n(603),v=n.n(P);class O{static showModal(e){this.data=e;const t=this.generateMarkup();console.log(t),console.log(this.parentElement),this.parentElement.classList.remove("hidde"),this.overlay.classList.remove("hidde"),this.parentElement.innerHTML="",this.parentElement.insertAdjacentHTML("afterbegin",t)}static generateMarkup(){return`\n    <span class="modal__winner-text">${!0===this.data.O_WIN?"PLAYER 1 WINS!":"PLAYER 2 WINS"}</span>\n    <div class="modal__header">\n      ${this.generateMarkupText}\n    </div>\n    <div class="modal__buttons">\n      <button class="quit__btn">QUIT</button>\n      <button class="next__round__btn">NEXT ROUND</button>\n    </div>`}static generateMarkupText(){return this.data.O_WIN?`\n   <svg class="modal__winner__icon">\n      <use xlink:href="${v()}#icon-o-win"></use>\n    </svg>\n   <span class="modal__header__text O__win__text"> TAKES THE ROUND </span>\n    `:`\n    <svg class="modal__winner__icon">\n       <use xlink:href="${p()}#icon-x-win"></use>\n    </svg>\n    <span class="modal__header__text X__win__text"> TAKES THE ROUND </span>\n    `}}O.parentElement=document.querySelector(".modal-winner-window"),O.overlay=document.querySelector(".overlay");const h=O,g=function(){L.render(d)};t.addChoosePlayerHandler((function(e){var t;t=e,d.currentPlayer="X"===t?a.PLAYER_X:a.PLAYER_O})),class{static addGameModeHandler(e){window.addEventListener("click",(function(t){const n=t.target,s=document.querySelector(".new-game"),a=document.querySelector(".game-board-section");if(!n.classList.contains("game-mode"))return;const r=n.id;return e(r),s.classList.add("hidde"),a.classList.remove("hidde"),r}))}}.addGameModeHandler((function(e){!function(e){d.game.gameType="PVP"===e?r.PLAYER_VS_PLAYER:r.PLAYER_VS_CPU}(e)})),g(),L.addBoxHandler((function(e){d.game.gameType===r.PLAYER_VS_PLAYER&&function(e){!function(e){d.currentPlayer===a.PLAYER_X?(d.game.playersPoints.X_points.push(e),d.currentPlayer=a.PLAYER_O):(d.game.playersPoints.O_points.push(e),d.currentPlayer=a.PLAYER_X)}(e),g(),_(d.game.playersPoints.O_points)&&(E(l.WINNER_O),h.showModal(d)),_(d.game.playersPoints.X_points)&&(E(l.WINNER_X),h.showModal(d))}(e)}))})()})();